<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ video.title or video.original_name }} - è§†é¢‘ä¸­å¿ƒ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background-color: #000000;
        }
        /* è§†é¢‘æ’­æ”¾å™¨å®¹å™¨ - ç¡®ä¿å…¨å±æŒ‰é’®å¯ç‚¹å‡» */
        .video-container {
            position: relative;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            background-color: #000;
            /* ç¡®ä¿è§†é¢‘å®¹å™¨åœ¨æœ€ä¸Šå±‚ */
            z-index: 100;
        }
        /* è§†é¢‘å…ƒç´ æ ·å¼ */
        .video-player {
            width: 100%;
            max-height: 80vh;
            display: block;
            /* å…³é”®ï¼šç¡®ä¿è§†é¢‘æ§ä»¶ä¸è¢«é®æŒ¡ */
            position: relative;
            z-index: 100;
        }
        /* ç¡®ä¿å¯¼èˆªæ ä¸ä¼šé®æŒ¡è§†é¢‘ */
        nav {
            z-index: 50;
        }
        /* ç§»åŠ¨ç«¯ä¼˜åŒ– */
        @media (max-width: 768px) {
            .video-player {
                max-height: 60vh;
            }
        }
    </style>
</head>
<body class="min-h-screen text-white">
    <!-- å¯¼èˆªæ  - è¾ƒä½çš„ z-index -->
    <nav class="bg-black/80 backdrop-blur-sm border-b border-gray-800 sticky top-0" style="z-index: 50;">
        <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
            <a href="/" class="text-gray-400 hover:text-white flex items-center gap-2">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
                </svg>
                è¿”å›é¦–é¡µ
            </a>
            <h1 class="text-xl font-bold">ğŸ¬ è§†é¢‘ä¸­å¿ƒ</h1>
            <div class="w-20"></div>
        </div>
    </nav>

    <!-- è§†é¢‘æ’­æ”¾åŒºåŸŸ -->
    <main class="px-4 py-8">
        <div class="video-container">
            <!-- 
                æ ¸å¿ƒè§†é¢‘æ ‡ç­¾ï¼š
                - controls: å¿…é¡»æœ‰ï¼Œæ˜¾ç¤ºæ’­æ”¾æ§ä»¶å’Œå…¨å±æŒ‰é’®
                - playsinline: é˜²æ­¢ iOS è‡ªåŠ¨å…¨å±ï¼Œä½†å…è®¸æ‰‹åŠ¨å…¨å±
                - webkit-playsinline: iOS å…¼å®¹æ€§
                - width="100%": å“åº”å¼å®½åº¦
            -->
            <video 
                class="video-player"
                src="{{ R2_PUBLIC_URL }}/{{ video.video_key }}"
                controls
                playsinline
                webkit-playsinline
                preload="auto"
                autoplay>
                æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒ HTML5 è§†é¢‘æ’­æ”¾
            </video>
        </div>

        <!-- è§†é¢‘ä¿¡æ¯ -->
        <div class="max-w-4xl mx-auto mt-6 px-4">
            <h2 class="text-2xl font-bold mb-2">{{ video.title or video.original_name }}</h2>
            <p class="text-gray-500">ä¸Šä¼ æ—¶é—´ï¼š{{ video.upload_time[:19] if video.upload_time else 'æœªçŸ¥' }}</p>
        </div>

        <!-- å…¨å±æç¤º -->
        <div class="max-w-4xl mx-auto mt-4 px-4">
            <p class="text-gray-600 text-sm">
                ğŸ’¡ æç¤ºï¼šç‚¹å‡»è§†é¢‘å³ä¸‹è§’çš„å…¨å±æŒ‰é’®å¯è¿›å…¥å…¨å±æ¨¡å¼è§‚çœ‹
            </p>
        </div>
    </main>

    <!-- é¡µè„š -->
    <footer class="border-t border-gray-800 mt-8">
        <div class="max-w-7xl mx-auto px-4 py-6 text-center text-gray-600 text-sm">
            <p>æç®€è§†é¢‘æ‰˜ç®¡å¹³å°</p>
        </div>
    </footer>

    <script>
        // ç¡®ä¿è§†é¢‘æ§ä»¶å¯äº¤äº’
        document.addEventListener('DOMContentLoaded', function() {
            const video = document.querySelector('.video-player');
            if (video) {
                // ç§»é™¤å¯èƒ½é˜»æ­¢ç‚¹å‡»çš„è¦†ç›–å±‚
                video.style.pointerEvents = 'auto';
                
                // é”™è¯¯å¤„ç†
                video.addEventListener('error', function(e) {
                    console.error('è§†é¢‘åŠ è½½é”™è¯¯:', e);
                });
            }
        });
    </script>
</body>
</html>
